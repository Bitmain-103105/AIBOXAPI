# 1.7.1 实时事件上报内容

**功能描述：**

SE3 AI 迷你机会实时上报比对分数大于阈值的比对事件到管理平台指定的URL，参见 管理平台登录接口定义。

**调用URL**

调用方法: POST

**参数描述（JSON格式）：**

\*\*\*\*

<table>
  <thead>
    <tr>
      <th style="text-align:left">&#x4E00;&#x7EA7;&#x53C2;&#x6570;</th>
      <th style="text-align:left">&#x4E8C;&#x7EA7;&#x53C2;&#x6570;</th>
      <th style="text-align:left">&#x7C7B;&#x578B;</th>
      <th style="text-align:left">&#x9009;&#x62E9;</th>
      <th style="text-align:left">&#x8BF4;&#x660E;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">identity_id</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">string</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x7528;&#x6237;&#x7F16;&#x53F7;</td>
    </tr>
    <tr>
      <td style="text-align:left">identity_name</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">string</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x7528;&#x6237;&#x540D;&#x79F0;</td>
    </tr>
    <tr>
      <td style="text-align:left">group_name</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">string</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x6BD4;&#x5BF9;&#x7684;group name&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;group_name&#x8FD4;&#x56DE;group_id</td>
    </tr>
    <tr>
      <td style="text-align:left">reg_pic</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">base64</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">&#x6CE8;&#x518C;&#x7684;&#x4EBA;&#x8138;&#x5E95;&#x5E93;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0A;&#x4F20;&#xFF0C;&#x53EF;&#x914D;&#x7F6E;&#x53BB;&#x9664;</td>
    </tr>
    <tr>
      <td style="text-align:left">timestamp</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">int32</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x65F6;&#x95F4;&#x6233;</td>
    </tr>
    <tr>
      <td style="text-align:left">score</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">float</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x6BD4;&#x5BF9;&#x7684;&#x5206;&#x6570;</td>
    </tr>
    <tr>
      <td style="text-align:left">ext_data</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">dict</td>
      <td style="text-align:left">&#x5FC5;&#x9009;</td>
      <td style="text-align:left">&#x62D3;&#x5C55;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#xFF0C;&#x53EF;&#x8FED;&#x4EE3;&#x6DFB;&#x52A0;</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">device_ip</td>
      <td style="text-align:left">string</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">&#x8BBE;&#x5907;ip</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">ep_id</td>
      <td style="text-align:left">sting</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">
        <p>&#x8FB9;&#x7F18;&#x8282;&#x70B9;ID&#xFF0C;&#x662F;&#x6307;SE3 AI&#x8FF7;&#x4F60;&#x673A;&#x8FDE;&#x63A5;&#x7684;&#x91C7;&#x96C6;&#x8BBE;&#x5907;&#x7684;ID&#x3002;</p>
        <p>ID&#xFF1A;dev_sno&#x548C;IP&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x7528;&#x53CC;&#x4E0B;&#x5212;&#x7EBF;&#x505A;&#x8FDE;&#x63A5;&#x3002;&#x4E3E;&#x4F8B;&#xFF1A;AKOPKKKKK__192.168.1.25</p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">spot_pic</td>
      <td style="text-align:left">base64</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">&#x73B0;&#x573A;&#x7167;&#x7247;</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">person_type</td>
      <td style="text-align:left">int</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">
        <p>1&#xFF1A;&#x5458;&#x5DE5;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;&#x5458;&#x5DE5;&#xFF0C;&#x5305;&#x62EC;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x60C5;&#x51B5;&#xFF09;</p>
        <p>2&#xFF1A;&#x8BBF;&#x5BA2;</p>
        <p>3&#xFF1A;&#x9ED1;&#x540D;&#x5355;</p>
        <p>4&#xFF1A;&#x964C;&#x751F;&#x4EBA;</p>
        <p>5&#xFF1A;VIP</p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">device_type</td>
      <td style="text-align:left">string</td>
      <td style="text-align:left">&#x53EF;&#x9009;</td>
      <td style="text-align:left">
        <p>0&#xFF1A;&#x95F8;&#x673A;&#xFF0C;</p>
        <p>1&#xFF1A;&#x6293;&#x62CD;&#x673A;</p>
        <p>2&#xFF1A;IPC &#x9759;&#x6001;</p>
        <p>3&#xFF1A;IPC &#x52A8;&#x6001;</p>
        <p>4&#xFF1A;&#x95E8;&#x7981;</p>
      </td>
    </tr>
  </tbody>
</table>**返回信息：**

暂时不处理

**示例：**

可以使用小盒子附带的server来获取上传的事件。

假设小盒子的ip为：192.168.1.19，接收的resetful api为RealTimeEvent ，端口号为9528。

那webui或是配置/修改实时事件上报接收服务器地址为：[http://192.168.1.19:9528/RealTimeEvent](http://192.168.1.19:9528/RealTimeEvent) 

启动server方法：

```text
$ sudo -i
# cd /system/data/sophon_gate/script
# python3 Event_Receive_server.py

* Serving Flask app "Event_Receive_server" (lazy loading)
* Environment: production
WARNING: Do not use the development server in a production environment.
Use a production WSGI server instead.
* Debug mode: off
* Running on http://0.0.0.0:9528/ (Press CTRL+C to quit)
```

